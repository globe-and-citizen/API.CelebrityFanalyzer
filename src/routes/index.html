<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="SwaggerUI" />
    <title>API Documentation</title>
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@5.4.2/swagger-ui.css" />
  </head>
  <body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@5.4.2/swagger-ui-bundle.js" crossorigin></script>
    <script>
      // Swagger Documentation: https://swagger.io/docs/specification/about/
      // Example: https://petstore.swagger.io/v2/swagger.json
      const spec = {
        openapi: '3.0.1',
        info: {
          description: 'This is the API documentation for Celebrity Fanalyzer.',
          version: '1.0.0',
          title: 'Celebrity Fanalyzer API',
          termsOfService: 'http://celebrityfanalyzer.com/terms-of-service/',
          license: {
            name: 'GNU General Public License v2.0',
            url: 'https://github.com/globe-and-citizen/Celebrity-Fanalyzer/blob/main/LICENSE.md'
          }
        },

        externalDocs: {
          description: 'Find out more about Celebrity Fanalyzer',
          url: 'https://github.com/globe-and-citizen/celebrity-fanalyzer'
        },

        paths: {
          '/prompts': {
            get: {
              summary: 'Get a list of all prompts.',
              operationId: 'listPrompts',
              tags: ['Collections API'],
              responses: {
                200: {
                  description: 'Success',
                  content: {
                    'application/json': {
                      schema: { $ref: '#/components/schemas/Collection' }
                    }
                  }
                },
                404: { $ref: '#/components/responses/NotFound' }
              }
            }
          },
          '/entries': {
            get: {
              summary: 'Get a list of all entries.',
              operationId: 'listEntries',
              tags: ['Collections API'],
              responses: {
                200: {
                  description: 'Success',
                  content: {
                    'application/json': {
                      schema: { $ref: '#/components/schemas/Collection' }
                    }
                  }
                },
                404: { $ref: '#/components/responses/NotFound' }
              }
            }
          },
          '/{collection}/{id}/dislikes': {
            get: {
              summary: 'Get dislikes from a collection.',
              operationId: 'getDislikes',
              tags: ['Subcollections API'],
              parameters: [{ $ref: '#/components/parameters/collection' }, { $ref: '#/components/parameters/id' }],
              responses: {
                200: {
                  description: 'Success',
                  content: {
                    'application/json': {
                      schema: {
                        type: 'object',
                        properties: {
                          data: {
                            type: 'array',
                            example: ['2023-08-01T11:40:54.753Z', '2023-07-30T18:03:54.338Z', '2023-07-30T14:38:47.042Z']
                          },
                          total: { type: 'integer', example: 3 }
                        }
                      }
                    }
                  }
                },
                404: { $ref: '#/components/responses/NotFound' }
              }
            }
          },
          '/{collection}/{id}/likes': {
            get: {
              summary: 'Get likes from a collection.',
              operationId: 'getLikes',
              tags: ['Subcollections API'],
              parameters: [{ $ref: '#/components/parameters/collection' }, { $ref: '#/components/parameters/id' }],
              responses: {
                200: {
                  description: 'Success',
                  content: {
                    'application/json': {
                      schema: {
                        type: 'object',
                        properties: {
                          data: {
                            type: 'array',
                            example: ['2023-08-05T11:11:11.514Z', '2023-07-31T11:21:04.931Z', '2023-08-07T17:41:00.502Z']
                          },
                          total: { type: 'integer', example: 3 }
                        }
                      }
                    }
                  }
                },
                404: { $ref: '#/components/responses/NotFound' }
              }
            }
          },
          '/{collection}/{id}/shares': {
            get: {
              summary: 'Get visitors from a collection.',
              operationId: 'getShares',
              tags: ['Subcollections API'],
              parameters: [{ $ref: '#/components/parameters/collection' }, { $ref: '#/components/parameters/id' }],
              responses: {
                200: {
                  description: 'Success',
                  content: {
                    'application/json': {
                      schema: {
                        type: 'object',
                        properties: {
                          data: {
                            type: 'array',
                            example: [
                              { createdAt: '2023-08-11T09:27:13.996Z', sharedOn: 'clipboard' },
                              { createdAt: '2023-08-12T06:58:53.070Z', sharedOn: 'twitter' }
                            ]
                          },
                          total: { type: 'integer', example: 2 }
                        }
                      }
                    }
                  }
                },
                404: { $ref: '#/components/responses/NotFound' }
              }
            }
          },
          '/{collection}/{id}/stats': {
            get: {
              summary: 'Get stats from a collection.',
              operationId: 'getStats',
              tags: ['Subcollections API'],
              parameters: [{ $ref: '#/components/parameters/collection' }, { $ref: '#/components/parameters/id' }],
              responses: {
                200: {
                  description: 'Success',
                  content: {
                    'application/json': {
                      schema: {
                        type: 'object',
                        properties: {
                          data: {
                            type: 'array',
                            example: [
                              {
                                createdAt: '2023-11-01T02:31:40.359Z',
                                clicks: '0',
                                mouseMovements: '1',
                                totalTime: '2',
                                scrolls: '12',
                                keypresses: '0'
                              },
                              {
                                createdAt: '2023-11-01T02:23:41.187Z',
                                clicks: '1',
                                mouseMovements: '7',
                                totalTime: '9',
                                scrolls: '40',
                                keypresses: '0'
                              }
                            ]
                          },
                          total: { type: 'integer', example: 2 }
                        }
                      }
                    }
                  }
                },
                404: { $ref: '#/components/responses/NotFound' }
              }
            }
          },
          '/{collection}/{id}/visitors': {
            get: {
              summary: 'Get visitors from a collection.',
              operationId: 'getVisitors',
              tags: ['Subcollections API'],
              parameters: [{ $ref: '#/components/parameters/collection' }, { $ref: '#/components/parameters/id' }],
              responses: {
                200: {
                  description: 'Success',
                  content: {
                    'application/json': {
                      schema: {
                        type: 'object',
                        properties: {
                          data: { type: 'array', example: [['7/16/2023'], ['8/16/2023'], ['7/30/2023', '8/1/2023']] },
                          total: { type: 'integer', example: 4 }
                        }
                      }
                    }
                  }
                },
                404: { $ref: '#/components/responses/NotFound' }
              }
            }
          }
        },

        components: {
          schemas: {
            Collection: {
              type: 'array',
              items: {
                $ref: '#/components/schemas/Document'
              }
            },
            Document: {
              type: 'object',
              properties: {
                id: {
                  $ref: '#/components/parameters/id'
                },
                title: {
                  type: 'string',
                  example: 'Lorem Ipsum'
                },
                slug: {
                  type: 'string',
                  example: 'lorem-ipsum'
                }
              },
              required: ['id', 'title', 'slug']
            }
          },
          parameters: {
            id: {
              name: 'id',
              in: 'path',
              required: true,
              type: 'string',
              example: '2023-11'
            },
            collection: {
              name: 'collection',
              in: 'path',
              required: true,
              type: 'string',
              example: 'prompts'
            }
          },
          responses: {
            NotFound: {
              description: 'Not Found',
              content: {
                'application/json': {
                  schema: {
                    type: 'object',
                    properties: {
                      message: { type: 'string', example: 'Not Found' },
                      documentation_url: { type: 'string', example: '/v1' }
                    }
                  }
                }
              }
            }
          }
        }
      }

      window.onload = function () {
        SwaggerUIBundle({
          spec: spec,
          dom_id: '#swagger-ui'
        })
      }
    </script>
  </body>
</html>
